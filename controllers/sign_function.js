const { PDFDocument, StandardFonts } = require('pdf-lib');
const fs = require('fs').promises;

function base64ToFile(dataURI) {
    return fetch(dataURI)
      .then(res => res.arrayBuffer())
      .then(buffer => new Uint8Array(buffer))
}
function getRole (user,data) {
    if(user.role==='STUDENT') {
        return `Practicante de ${data.job_title}`;
    }
    else if(user.role==='EMPLOYED') {
        return `${data.enterprise_name}`;
    }
    else if(user.role==='SIGNATORY') {
        return `Centro de formación profesional`;
    }

}

async function drawSign(doc, page, n, data) {
    const user = data.list[n]
    const timesRoman = await doc.embedFont(StandardFonts.TimesRoman)
    const { width, height } = page.getSize()
    const wImg = (width * .3)
    const hImg = (width * .3)*(300/768)

    let xCoord = 0;
    let yCoord = 0;

    switch (n) {
        case 0:
            xCoord = (width * .1)
            yCoord = (height * .75)
            break;
        case 1:
            xCoord = (width * .6)
            yCoord = (height * .75)
            break;
        case 2:
            xCoord = (width/2 - wImg/2)
            yCoord = (height * .75) - 2*hImg - 50
            break;
        default:
            break;
    }

    if(user && user.sign && user.sign!='') {
        const arrBuff = await base64ToFile(user.sign)
        const img = await doc.embedPng(arrBuff)
        // const diffY = img.height - hImg
        const diffY = 20

        page.drawImage(img, {
            x: xCoord,
            y: yCoord - diffY - 10,
            height: hImg,
            width: wImg,
    
        })
    }
    page.drawText('.............................................', {
        x: xCoord,
        y: yCoord - hImg,
        size: 12,
        font: timesRoman
    })
    page.drawText(user.name, {
        x: xCoord,
        y: yCoord - hImg - 12,
        size: 12,
        font: timesRoman
    })
    page.drawText(getRole(user,data), {
        x: xCoord,
        y: yCoord - hImg - 24,
        size: 12,
        font: timesRoman
    })
    page.drawText(`Firmado el: ${user.date}`, {
        x: xCoord,
        y: yCoord - hImg - 36,
        size: 12,
        font: timesRoman
    })
}

//   const a = {
//     "result": {
//         "job_title": "Analista de QA",
//         "enterprise_name": "IBM del Perú",
//         "list": [
//             {
//                 "id": "10",
//                 "photo": "https://lh3.googleusercontent.com/a/ACg8ocKCHec-opgaPAq8Zgh-oq_BCPwRPxOFDQEBPoc60pHvDwg=s96-c",
//                 "name": "Oscar Navarro Cieza",
//                 "role": "STUDENT",
//                 "date": "2023-10-17",
//                 "sign": "data:image/png;base64,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",
//                 "attr": "Estudiante"
//             },
//             {
//                 "id": "8",
//                 "photo": "https://lh3.googleusercontent.com/a/ACg8ocLyiWMFNHl4MkU6-CDXRdYEE1461N5VlDPnpLh03v-Rkw=s96-c",
//                 "name": "Ernesto Quiñones",
//                 "role": "SIGNATORY",
//                 "date": "2023-10-17",
//                 "sign": "data:image/png;base64,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",
//                 "attr": "Institución Educativa"
//             },
//             {
//                 "id": "7",
//                 "photo": "https://lh3.googleusercontent.com/a/ACg8ocLyiWMFNHl4MkU6-CDXRdYEE1461N5VlDPnpLh03v-Rkw=s96-c",
//                 "name": "Luan  León Osorio",
//                 "role": "EMPLOYED",
//                 "date": "2023-10-17",
//                 "sign": "data:image/png;base64,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",
//                 "attr": "Empresa"
//             },
//         ]
//     },
//     "success": true,
//     "message": "Error en el servicio de estudiantes"
// }


async function mergePDFs(data, pathDoc) {
    //Copiamos contenido del primer documento
    const doc = await PDFDocument.create()
    const pdfBytes1 = await fs.readFile(__dirname + `/../uploads/docs/${pathDoc}`);
    const pdfDoc1 = await PDFDocument.load(pdfBytes1);
    const pages1 = await doc.copyPages(pdfDoc1, pdfDoc1.getPageIndices());

    for (const page of pages1) {
        doc.addPage(page);
    }

    //Generamos la página con las firmas
    const page = doc.addPage()

    for(let i=0; i < data.list.length; i++) {
        await drawSign(doc, page, i, data)
    }
    const finalPDF = await doc.save()
    await fs.writeFile(__dirname + `/../uploads/docs/sd_${pathDoc}`, finalPDF);

  }
  
//   mergePDFs(a.result, 'Convenio Analista de QA - Oscar Navarro Cieza.pdf').then(() => {
//     console.log('Archivos PDF unidos con éxito.');
//   }).catch(error => {
//     console.error('Error al unir los archivos PDF:', error);
//   });

module.exports = {
    mergePDFs
}